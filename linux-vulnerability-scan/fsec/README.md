# 금융보안원 전자금융기반시설 기준 취약점 진단 스크립트

<div align="center">

![Static Badge](https://img.shields.io/badge/CentOS_7.8-14213d?style=flat&logo=centos)
![Static Badge](https://img.shields.io/badge/Ubuntu_18.04-f4a261?style=flat&logo=ubuntu)

</div>

## 구조
+ 스크립트는 네이버 금융클라우드 내 init script 상품으로 사용하기 위해 작성됐습니다.
  + init script 상품 내 한글을 포함할 수 없는 제약사항으로 Object Storage에 한글 주석이 포함된 스크립트를 저장하고, 다운로드 받아 사용하는 방식으로 설계되었습니다.
+ `banner_v2.0.sh`, `function_v2.0.sh`, `initscript_v2.0.sh`, `set-init-script.sh` 가 모두 동일한 폴더 내부에 존재해야 합니다.
+ `set-init-script.sh` 스크립트 파일을 실행하면 자동으로 취약점 진단을 수행합니다.

## 사용 방법
+ 최초 실행 전 `set-init-script.sh` 필수 환경변수를 작성합니다.
+ 환경변수 작성 후 `set-init-script.sh`을 실행합니다.
  + Object Storage에 저장하지 않고, 수동으로 서버 환경에 저장한 경우 `set-init-script.sh`파일 내 "Download Scripts" 항목 주석 처리 후 사용하시면 됩니다.

## 보안 기준표
> 취약점 진단 기준표는 [`네이버 클라우드 OS Security Checker`](https://guide.ncloud-docs.com/docs/ssc-ossecuritychecker) 를 참고합니다.  
> 모든 보안 취약점 항목을 스크립트 내에서 다루지 않습니다.

<table>
    <tr>
        <td align="center" style="background-color: #e5e5e5"><b>Check ID</b></td>
        <td align="center" style="background-color: #e5e5e5"><b>점검항목</b></td>
    </tr>
    <tr>
        <td>SRV-001</td>
        <td>SNMP 서비스 커뮤니티스트링의 복잡성 설정</td>
    </tr>
    <tr>
        <td>SRV-004</td>
        <td>불필요한 SMTP 서비스 실행</td>
    </tr>
    <tr>
        <td>SRV-011</td>
        <td>ftpusers 파일 설정</td>
    </tr>
    <tr>
        <td>SRV-012</td>
        <td>.netrc 파일 내 호스트 정보 노출</td>
    </tr>
    <tr>
        <td>SRV-013</td>
        <td>Anonymous FTP 비활성화</td>
    </tr>
    <tr>
        <td>SRV-014</td>
        <td>NFS 접근 통제</td>
    </tr>
    <tr>
        <td>SRV-026</td>
        <td>root 계정 원격 접속 제한</td>
    </tr>
    <tr>
        <td>SRV-027</td>
        <td>접속 IP 및 포트 제한</td>
    </tr>
    <tr>
        <td>SRV-028</td>
        <td>Session Timeout 설정</td>
    </tr>
    <tr>
        <td>SRV-069</td>
        <td>패스워드 복잡성 설정</td>
    </tr>
    <tr>
        <td>SRV-074</td>
        <td>불필요한 계정 제거</td>
    </tr>
    <tr>
        <td>SRV-087</td>
        <td>C 컴파일러 존재 및 권한 설정 미흡</td>
    </tr>
    <tr>
        <td>SRV-096</td>
        <td>사용자, 시스템 시작파일 및 환경파일 소유자 및 권한 설정</td>
    </tr>
    <tr>
        <td>SRV-108</td>
        <td>로그에 대한 접근통제 및 관리 미흡</td>
    </tr>
    <tr>
        <td>SRV-109</td>
        <td>정책에 따른 시스템 로깅 설정</td>
    </tr>
    <tr>
        <td>SRV-122</td>
        <td>UMASK 설정 관리</td>
    </tr>
    <tr>
        <td>SRV-127</td>
        <td>계정 잠금 임계값 설정</td>
    </tr>
    <tr>
        <td>SRV-131</td>
        <td>root 계정 su 제한</td>
    </tr>
    <tr>
        <td>SRV-133</td>
        <td>Cron 서비스 사용 계정 제한 미비</td>
    </tr>
    <tr>
        <td>SRV-163</td>
        <td>로그온 시 경고 메시지 제공</td>
    </tr>
    <tr>
        <td>SRV-164</td>
        <td>계정이 존재하지 않는 GID 금지</td>
    </tr>
</table>

### 참고 링크
- [네이버 블로그 - 타쿠대디](https://blog.naver.com/takudaddy/222220602092)
- [![Static Badge](https://img.shields.io/badge/newbieh4cker/centos_vuln_check_script-14213d?style=flat&logo=github)](https://github.com/newbieh4cker/centos_vuln_check_script/blob/master/linux_vuln_check_script.sh)